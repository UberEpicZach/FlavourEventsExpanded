#Polish Events

#Special thanks to xxroxx for designing and scripting these!

namespace = fee_POL


#Events Added July 2015
# Przywilej cerekwicko-nieszawski
#country_event = {
#	id = fee_POL.9
#	title = fee_POL.9.T
#	desc = fee_POL.9.D
#	picture = LIBERUM_VETO_eventPicture
#
#	fire_only_once = yes
#
#	trigger = {
#		OR = {
#			AND = {
#				tag = POL
#				NOT = { exists = PLC }
#			}
#			tag = PLC
#		}
#		is_year = 1450
#		NOT = { is_year = 1480 }
#		is_at_war = yes
#	}
#
#	mean_time_to_happen = {
#		months = 6
#	}
#
#	option = {
#		name = fee_POL.9.OPT1 # Accept the Conventions (Road to nobility)
#		add_country_modifier = {
#			name = pol_statuty_nieszawskie
#			duration = -1
#		}
#		every_owned_province = {
#		add_local_autonomy = 15
#		}
#	}
#	option = {
#		name = fee_POL.9.OPT2 # Refuse to sign it and defy the Magnates (Road to absolutism)
#		add_manpower = -2.5
#		random_owned_province = {
#			limit = {
#				continent = europe
#			}
#			polish_noble_rebels = 2
#		}
#	}
#}

# Konstytucje piotrkowskie
#country_event = {
#	id = fee_POL.10
#	title = fee_POL.10.T
#	desc = fee_POL.10.D
#	picture = COURT_eventPicture
#
#	fire_only_once = yes
#
#	trigger = {
#		OR = {
#			AND = {
#				tag = POL
#				NOT = { exists = PLC }
#			}
#			tag = PLC
#		}
#		is_year = 1490
#		NOT = { is_year = 1520 }
#		is_at_war = yes
#	}
#
#	mean_time_to_happen = {
#		months = 6
#	}
#
#	option = {
#		name = fee_POL.10.OPT1 # Enact
#		add_stability = 1
#		add_mercantilism = 0.025
#		add_country_modifier = {
#			name = pol_statut_piotrkowski
#			duration = -1
#		}
#	}
#	option = {
#		name = fee_POL.10.OPT2 # Refuse to enact
#		add_stability = -3
#		add_manpower = -2.5
#	}
#}

# Unia krakowsko-wileńska
country_event = {
	id = fee_POL.11
	title = fee_POL.11.T
	desc = fee_POL.11.D
	picture = COURT_eventPicture

	fire_only_once = yes

	trigger = {
		tag = POL
		NOT = { is_year = 1540 }
		is_year = 1490
		exists = LIT
		NOT = { exists = PLC }
		NOT = { senior_union_with = LIT }
		LIT = {
			ai = yes
			has_opinion = {
				who = POL
				value = 100
			}
		}
	}

	mean_time_to_happen = {
		months = 50
	}

	option = {
		name = fee_POL.11.OPT1 # Our countries should cooperate

		if = {
			limit = {
				valid_for_personal_unions_trigger = yes
				LIT = { valid_for_personal_unions_trigger = yes }
			}
			create_union = LIT
		}
		ai_chance = {
			factor = 70
		}
	}
	option = {
		name = fee_POL.11.OPT2
		ai_chance = {
			factor = 30
		}
	}
}
# Przywilej mielnicki
country_event = {
	id = fee_POL.12
	title = fee_POL.12.T
	desc = fee_POL.12.D
	picture = COURT_eventPicture

	fire_only_once = yes

	trigger = {
		OR = {
			AND = {
				tag = POL
				NOT = { exists = PLC }
			}
			tag = PLC
		}
		is_year = 1495
		NOT = { is_year = 1530 }
	}

	mean_time_to_happen = {
		months = 6
	}

	option = {
		name = fee_POL.12.OPT1 # Sign
		ai_chance = {
			factor = 90
		}
		add_country_modifier = {
			name = pol_przywilej_mielnicki
			duration = -1
		}
		every_owned_province = {
			add_local_autonomy = 15
		}
		
	}
	option = {
		name = fee_POL.12.OPT2 # Reject
		ai_chance = {
			factor = 10
		}
		random_owned_province = {
			limit = {
				continent = europe
			}
			polish_noble_rebels = 2
		}
		random_owned_province = {
			limit = {
				continent = europe
			}
			polish_noble_rebels = 2
		}
		random_owned_province = {
			limit = {
				continent = europe
			}
			polish_noble_rebels = 2
		}
	}
}

# Unia mielnicka
country_event = {
	id = fee_POL.13
	title = fee_POL.13.T
	desc = fee_POL.13.D
	picture = COURT_eventPicture

	fire_only_once = yes

	trigger = {
		tag = POL
		senior_union_with = LIT
		has_country_modifier = pol_przywilej_mielnicki
	}

	mean_time_to_happen = {
		months = 48
	}

	option = {
		name = fee_POL.13.OPT1 # Unite our countries under Poland(This will create massive rebellion in Lithuania)
		ai_chance = {
			factor = 5
		}
		inherit = LIT
		add_stability_or_adm_power = yes
		hidden_effect = {
			   add_country_modifier = {
			name = unia_mielnicka
			duration = -1
						   }
				   }
		}
	option = {
		   name = fee_POL.13.OPT2 # Do not push them to sign it
		ai_chance = {
			factor = 95
		}
		add_stability = -1
		}
}
# Lithuanian reaction to incorporation
country_event = {
	id = fee_POL.14
	title = fee_POL.14.T
	desc = fee_POL.14.D
	picture = COURT_eventPicture

	fire_only_once = yes

	trigger = {
		tag = POL
		has_country_modifier = unia_mielnicka
	}

	mean_time_to_happen = {
		months = 24
	}
	option = {
		name = fee_POL.14.OPT1 # I told you so
		random_owned_province = {
			limit = {
				area = lithuania_area
			}
			nationalist_rebels = 3
		}
		random_owned_province = {
			limit = {
				region = ruthenia_region
			}
			nationalist_rebels = 3
		}
		random_owned_province = {
			limit = {
				region = ruthenia_region
			}
			nationalist_rebels = 3
		}
		random_owned_province = {
			limit = {
				region = ruthenia_region
			}
			nationalist_rebels = 3
		}
	}
}
#Sejm piotrkowski
country_event = {
	id = fee_POL.15
	title = fee_POL.15.T
	desc = fee_POL.15.D
	picture = COURT_eventPicture

	fire_only_once = yes

	trigger = {
		OR = {
			AND = {
				tag = POL
				NOT = { exists = PLC }
			}
			tag = PLC
		}
		is_year = 1500
		NOT = { is_year = 1520 }
	#   has_country_modifier =	pol_statut_piotrkowski
		   has_country_modifier = pol_przywilej_mielnicki
		}

	mean_time_to_happen = {
		months = 60
	}

	option = {
		name = fee_POL.15.OPT1 # Well, accept it
		add_adm_power = 150
		}
}
# Przywilej cerekwicko-nieszawski
country_event = {
	id = fee_POL.16
	title = fee_POL.16.T
	desc = fee_POL.16.D
	picture = LIBERUM_VETO_eventPicture

	fire_only_once = yes

	trigger = {
		OR = {
			AND = {
				tag = POL
				NOT = { exists = PLC }
			}
			tag = PLC
		}
		is_year = 1505
		NOT = { is_year = 1515 }
	#	has_country_modifier =	pol_statut_piotrkowski
		   has_country_modifier = pol_przywilej_mielnicki
	}

	mean_time_to_happen = {
		months = 60
	}

	option = {
		name = fee_POL.16.OPT1 # The beginning of noble rules
		remove_country_modifier = pol_przywilej_mielnicki
		every_owned_province = {
		add_local_autonomy = 15
		}
	}
	option = {
		name = fee_POL.16.OPT2 # NO power to nobles!
		remove_country_modifier = pol_przywilej_mielnicki
		remove_country_modifier = pol_statut_piotrkowski
		remove_country_modifier = pol_statuty_nieszawskie
		random_owned_province = {
			limit = {
				continent = europe
			}
			polish_noble_rebels = 2
		}
		random_owned_province = {
			limit = {
				continent = europe
			}
			polish_noble_rebels = 2
		}
		random_owned_province = {
			limit = {
				continent = europe
			}
			polish_noble_rebels = 2
		}
		random_owned_province = {
			limit = {
				continent = europe
			}
			polish_noble_rebels = 1
		}
		random_owned_province = {
			limit = {
				continent = europe
			}
			polish_noble_rebels = 1
		}
		random_owned_province = {
			limit = {
				continent = europe
			}
			polish_noble_rebels = 1
		}
	}
}
# Przywilej toruński
country_event = {
	id = fee_POL.17
	title = fee_POL.17.T
	desc = fee_POL.17.D
	picture = COURT_eventPicture

	fire_only_once = yes

	trigger = {
		OR = {
			AND = {
				tag = POL
				NOT = { exists = PLC }
			}
			tag = PLC
		}
		is_year = 1520
		NOT = { is_year = 1550 }
		}

	mean_time_to_happen = {
		months = 240
	}

	option = {
		name = fee_POL.17.OPT1 # Enact
		add_stability_or_adm_power = yes
		add_mercantilism = 3
		add_country_modifier = {
			name = pol_przywilej_torunski
			duration = -1
		}
	}
	option = {
		name = fee_POL.17.OPT2 # Refuse to enact
		add_stability = -3
		}
}

#Hołd Pruski.1
country_event = {
	id = fee_POL.18
	title = fee_POL.18.T
	desc = fee_POL.18.D
	picture = COURT_eventPicture

	fire_only_once = yes

	trigger = {
		TEU = {
			ai = yes
		}
		OR = {
			AND = {
				tag = POL
				NOT = { exists = PLC }
			}
			tag = PLC
		}
		exists = TEU
		OR = {
		   TEU = { is_subject_of = POL }
		   TEU = { is_subject_of = PLC }
		}
		NOT = {
			exists = PRU
		}
		is_year = 1520
		NOT = { is_year = 1540 }
		is_religion_enabled = protestant
	}
	mean_time_to_happen = {
		months = 120
	}
	option = {
		name = fee_POL.18.OPT1 # Force them to create Prussia
		TEU = { country_event = { id = fee_POL.22 } }
	}
	option = {
		name = fee_POL.18.OPT2 # Do nothing
	}
}
# Tumult gdański
country_event = {
	id = fee_POL.19
	title = fee_POL.19.T
	desc = fee_POL.19.D
	picture = COURT_eventPicture

	fire_only_once = yes

	trigger = {
		is_religion_enabled = protestant
		OR = {
			AND = {
				tag = POL
				NOT = { exists = PLC }
			}
			tag = PLC
		}
	   owns = 43
	   is_neighbor_of = PRU
	   religion = catholic
	 }

		mean_time_to_happen = {
		months = 12
	}

	option = {
		name = fee_POL.19.OPT1 # Catholicism is our main religion

		43 = {
			spawn_rebels = {
				type = religious_rebels
				size = 2
			}
		}
	}

	option = {
		name = fee_POL.19.OPT2 # Let them live

		43 = { change_religion = protestant }
	}
}

# Pakt wileński
country_event = {
	id = fee_POL.20
	title = fee_POL.20.T
	desc = fee_POL.20.D
	picture = COURT_eventPicture

	fire_only_once = yes

	trigger = {
		OR = {
			AND = {
				tag = POL
				NOT = { exists = PLC }
			}
			tag = PLC
		}
	   is_neighbor_of = LIV
		  OR = {
		  MOS = {
		  owns = 1842
		  owns = 1834 }
		  RUS = {
		  owns = 1842
		  owns = 1834 }
		}
	}
		mean_time_to_happen = {
		months = 12
	}
	option = {
		name = fee_POL.20.OPT1 # Incoroporate Livonia
		LIV = { country_event = { id = fee_POL.23 } }
	}
	 option = {
		name = fee_POL.20.OPT2 # Do nothing
		}
}
# Statut karnkowskiego
country_event = {
	id = fee_POL.21
	title = fee_POL.21.T
	desc = fee_POL.21.D
	picture = COURT_eventPicture

	fire_only_once = yes

	trigger = {
		OR = {
			AND = {
				tag = POL
				NOT = { exists = PLC }
			}
			tag = PLC
		}
	   owns = 43
		  is_year = 1560
		  NOT = { is_year = 1580 }
	   }

		  mean_time_to_happen = {
		months = 120
	}

	 option = {
		name = fee_POL.21.OPT1 # Sign
		add_dip_power = -150
		43 = {
		add_province_modifier = {
		name = statut_karnkowskiego
		duration = -1
		}
	  }
	}
	 option = {
		name = fee_POL.21.OPT2 # It is unnecessary
	}
}

#Hold pruski.2
#From fee_POL.18
country_event = {
	id = fee_POL.22
	title = fee_POL.22.T
	desc = fee_POL.22.D
	picture = COURT_eventPicture

	is_triggered_only = yes

	option = {  	# Humble before Poland
		name = fee_POL.22.OPT1
		change_tag = PRU

		change_religion = protestant
		capital_scope = {
			change_religion = protestant
		}
		change_government_to_monarchy = yes
		add_government_reform = feudal_monarchy
	}
}

#From fee_POL.20
country_event = {
	id = fee_POL.23
	title = fee_POL.23.T
	desc = fee_POL.23.D
	picture = COURT_eventPicture

	is_triggered_only = yes

	option = {  	# Humble before Poland
		name = fee_POL.23.OPT1
		FROM = { inherit = LIV}
		}
		option = {  	# We are too strong
		name = fee_POL.23.OPT2
		FROM = { declare_war_with_cb = {
	 who = LIV
	 casus_belli = cb_annex
								}
						  }
	}
 }
