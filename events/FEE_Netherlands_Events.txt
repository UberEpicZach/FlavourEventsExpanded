#Dutch events (Netherlands++)

namespace = FEE_Netherlands_Events

#Generaliteitslanden
country_event = {
	id = FEE_Netherlands_Events.1
	title = FEE_Netherlands_Events.1.T
	desc = FEE_Netherlands_Events.1.D
	picture = CITY_DEVELOPMENT_eventPicture

	trigger = {
		tag = NED
		OR = {
			religion = protestant
			religion = reformed
		}
		government = republic
		NOT = { has_idea_group = humanist_ideas }
		is_at_war = no

		any_owned_province = {
			has_owner_religion = no
			OR = {
				culture = dutch
				culture = wallonian
				culture = flemish
			}
			is_capital = no
			NOT = { has_province_modifier = fee_ned_generality_lands }
		}
	}

	mean_time_to_happen = {
		months = 60
	}

	option = {
		name = FEE_Netherlands_Events.1.OPT1

		random_owned_province = {
			limit = {
				has_owner_religion = no
				OR = {
					culture = dutch
					culture = wallonian
					culture = flemish
				}
				is_capital = no
				NOT = { has_province_modifier = fee_ned_generality_lands }
			}
			add_province_modifier = {
				name = fee_ned_generality_lands
				duration = -1
			}
		}
	}
}

#Province Achieves Representation
country_event = {
	id = FEE_Netherlands_Events.2
	title = FEE_Netherlands_Events.2.T
	desc = FEE_Netherlands_Events.2.D
	picture = CITY_VIEW_eventPicture

	trigger = {
		tag = NED
		OR = {
			religion = protestant
			religion = reformed
		}
		government = republic
		NOT = { has_idea_group = humanist_ideas }
		is_at_war = no

		any_owned_province = {
			has_province_modifier = fee_ned_generality_lands
			OR = {
				has_owner_religion = yes
				owner = {
					full_idea_group = humanist_ideas
				}
			}
		}
	}

	mean_time_to_happen = {
		months = 36
	}

	option = {
		name = FEE_Netherlands_Events.2.OPT1

		random_owned_province = {
			limit = {
				has_province_modifier = fee_ned_generality_lands
			}
			remove_province_modifier = fee_ned_generality_lands
		}
	}
}

#Arrival in Indonesia
country_event = {
	id = FEE_Netherlands_Events.3
	title = FEE_Netherlands_Events.3.T
	desc = FEE_Netherlands_Events.3.D
	picture = SHIP_SAILING_eventPicture

	fire_only_once = yes

	trigger = {
		tag = NED
		has_discovered = 624
	}

	mean_time_to_happen = {
		months = 120
	}

	option = {
		name = FEE_Netherlands_Events.3.OPT1
		ai_chance = { factor = 100 }

		597 = {
			add_trade_modifier = {
				who = ROOT
				duration = -1
				power = 50
				key = fee_ned_esat_indian_trade_ports
			}
		}
		630 = {
			add_trade_modifier = {
				who = ROOT
				duration = -1
				power = 50
				key = fee_ned_esat_indian_trade_ports
			}
		}
		624 = {
			add_permanent_province_modifier = {
				name = fee_ned_dutch_warehouses
				duration = 9125
			}
		}
		set_country_flag = fee_ned_allow_for_founding_of_batavia
	}

	option = {
		name = FEE_Netherlands_Events.3.OPT2
		ai_chance = { factor = 0 }

		add_prestige = -5
	}
}

#Founding of Batavia
country_event = {
	id = FEE_Netherlands_Events.4
	title = FEE_Netherlands_Events.4.T
	desc = FEE_Netherlands_Events.4.D
	picture = LIBERUM_VETO_eventPicture

	fire_only_once = yes

	trigger = {
		tag = NED
		has_country_flag = fee_ned_allow_for_founding_of_batavia
		630 = {
			owner = {
				NOT = { war_with = ROOT }
			}
		}
		west_java_area = {
			has_discovered = ROOT
		}
		east_java_area = {
			has_discovered = ROOT
		}
		central_java_area = {
			has_discovered = ROOT
		}
	}

	mean_time_to_happen = {
		months = 120
	}

	immediate = {
		hidden_effect = {
			set_country_flag = fee_allow_for_formusa
		}
	}

	option = {
		name = FEE_Netherlands_Events.4.OPT1
		ai_chance = { factor = 100 }

		add_years_of_income = -0.25
		630 = {
			owner = {
				add_opinion = {
					who = ROOT
					modifier = fee_ned_stole_our_province
				}
			}
			cede_province = ROOT
			add_core = ROOT
			change_province_name = "Batavia"
			rename_capital = "Batavia"
			add_province_modifier = {
				name = fee_ned_structured_city
				duration = -1
			}
			add_base_tax = 1
			add_base_production = 1
			add_base_manpower = 3
		}
	}
	option = {
		name = FEE_Netherlands_Events.4.OPT2

		ai_chance = { factor = 0 }

		add_prestige = 5
		630 = {
			owner = {
				add_opinion = {
					who = ROOT
					modifier = fee_ned_didnt_steal_our_province
				}
			}
		}
	}
}

#Formosa
country_event = {
	id = FEE_Netherlands_Events.5
	title = FEE_Netherlands_Events.5.T
	desc = FEE_Netherlands_Events.5.D
	picture = LIBERUM_VETO_eventPicture

	fire_only_once = yes

	trigger = {
		tag = NED
		has_country_flag = fee_allow_for_formusa
		taiwan_area = {
			has_discovered = ROOT
		}
		738 = {
			is_city = no
		}
		exists = FRM
	}

	mean_time_to_happen = {
		months = 240
	}

	immediate = {
		hidden_effect = {
			set_country_flag = fee_allow_tunging_event
		}
	}

	option = {
		name = FEE_Netherlands_Events.5.OPT1
		ai_chance = { factor = 100 }

		738 = {
			cede_province = ROOT
			add_core = ROOT
			change_province_name = "Zeelandia"
			rename_capital = "Fort Zeelandia"
		}
	}
}

#Koxinga and Tungning
country_event = {
	id = FEE_Netherlands_Events.6
	title = FEE_Netherlands_Events.6.T
	desc = FEE_Netherlands_Events.6.D
	picture = LIBERUM_VETO_eventPicture

	fire_only_once = yes

	trigger = {
		tag = NED
		exists = FRM
		738 = {
			owned_by = ROOT
		}
	}

	option = {
		name = FEE_Netherlands_Events.6.OPT1
		ai_chance = { factor = 0 }

		738 = {
			cede_province = FRM
			add_core = FRM
			change_province_name = "Anping"
			rename_capital = "Anping"
		}
	}

	option = {
		name = FEE_Netherlands_Events.6.OPT2
		ai_chance = { factor = 100 }

		738 = {
			add_core = FRM
		}
		FRM = {
			country_event = { id = FEE_Netherlands_Events.7 }
		}
	}
}

#The Dutch impede us
country_event = {
	id = FEE_Netherlands_Events.7
	title = FEE_Netherlands_Events.7.T
	desc = FEE_Netherlands_Events.7.D
	picture = LIBERUM_VETO_eventPicture

	is_triggered_only = yes

	option = {
		name = FEE_Netherlands_Events.7.OPT1
		ai_chance = { factor = 100 }

		add_prestige = 5
		declare_war_with_cb = {
			who = PREV
			casus_belli = cb_core
			war_goal_province = 738
		}
	}

	option = {
		name = FEE_Netherlands_Events.7.OPT2
		ai_chance = { factor = 0 }

		add_prestige = -5
	}
}

#The Supreme Court of Holland
country_event = {
	id = FEE_Netherlands_Events.8
	title = FEE_Netherlands_Events.8.T
	desc = FEE_Netherlands_Events.8.D
	picture = GREAT_BUILDING_eventPicture

	fire_only_once = yes

	trigger = {
		OR = {
			tag = HOL
			tag = NED
		}
		4383 = {
			owned_by = ROOT
			NOT = { has_building = courthouse }
			NOT = { has_building = town_hall }
		}
		is_year = 1500
		stability = 2
	}

	mean_time_to_happen = {
		months = 200
	}

	option = {
		name = FEE_Netherlands_Events.8.OPT1
		ai_chance = {
			factor = 50
		}

		add_stability_or_adm_power = yes
		4383 = {
			add_province_modifier = {
				name = fee_ned_judicial_center
				duration = -1
			}
			if = {
				limit = { has_building = courthouse }
				remove_building = courthouse
				add_building_construction = {
					building = town_hall
					speed = 0.5
					cost = 0
				}
			}
			else_if = {
				limit = { has_building = town_hall }
				add_base_tax = 2
			}
			else = {
				add_building_construction = {
					building = courthouse
					speed = 0.5
					cost = 0
				}
			}
		}
	}
}

#The Corneliszoon Sawmill
country_event = {
	id = FEE_Netherlands_Events.9
	title = FEE_Netherlands_Events.9.T
	desc = FEE_Netherlands_Events.9.D
	picture = HARBOUR_eventPicture

	fire_only_once = yes

	trigger = {
		OR = {
			tag = HOL
			tag = NED
		}
		is_year = 1500
		NOT = { is_year = 1607 }
	}

	mean_time_to_happen = {
		months = 120
	}

	option = {
		name = FEE_Netherlands_Events.9.OPT1
		ai_chance = {
			factor = 50
		}

		every_owned_province = {
			limit = { region = low_countries_region }
			add_permanent_province_modifier = {
				name = fee_ned_corneliszoon_sawmill
				duration = -1 
			}
		}
	}
}

#Defensive Reforms
country_event = {
	id = FEE_Netherlands_Events.10
	title = FEE_Netherlands_Events.10.T
	desc = FEE_Netherlands_Events.10.D
	picture = FORT_eventPicture

	fire_only_once = yes

	trigger = {
		tag = NED
		mil_tech = 14
	}

	mean_time_to_happen = {
		months = 200
	}

	option = {
		name = FEE_Netherlands_Events.10.OPT1
		ai_chance = {
			factor = 50
		}

		add_years_of_income = -1
		add_country_modifier = {
			name = fee_ned_dutch_defense
			duration = 7300
		}
		every_owned_province = {
			if = {
				limit = { has_building = fort_15th }
				add_building_construction = {
					building = fort_16th
					speed = 0.50
					cost = 0
				}
			}
		}
	}

	option = {
		name = FEE_Netherlands_Events.10.OPT2
		ai_chance = {
			factor = 50
		}

		add_mil_power = 100
	}
}

#Michiel de Ruyter
country_event = {
	id = FEE_Netherlands_Events.11
	title = FEE_Netherlands_Events.11.T
	desc = FEE_Netherlands_Events.11.D
	picture = SHIP_SAILING_eventPicture

	fire_only_once = yes
	trigger = {
		tag = NED
		is_year = 1600
		NOT = { is_year = 1680 }
	}

	mean_time_to_happen = {
		months = 240
		modifier = {
			factor = 0.8
			OR = {
				has_idea_group = maritime_ideas
				has_idea_group = naval_ideas
			}
		}
		modifier = {
			factor = 0.8
			if = {
				limit = { exists = GBR }
				navy_size = GBR
			}
			else = {
				navy_size = ENG
			}
		}
	}

	option = {
		name = FEE_Netherlands_Events.11.OPT1
		ai_chance = {
			factor = 50
		}

		define_admiral = {
			name = "Michiel van Ruyter"
			female = no
			fire = 6
			shock = 6
			manuever = 6
			siege = 2
		}
		add_country_modifier = {
			name = fee_ned_admiral_ruyter
			duration = 14600
		}
	}

	option = {
		name = FEE_Netherlands_Events.11.OPT2
		ai_chance = {
			factor = 50
		}

		define_advisor = {
			type = naval_reformer
			name = "Michiel de Ruyter"
			skill = 3
			culture = dutch
			religion = ROOT
		}
		add_country_modifier = {
			name = fee_ned_ruyter
			duration = 14600
		}
	}
}

#A Daring Attack
country_event = {
	id = FEE_Netherlands_Events.12
	title = FEE_Netherlands_Events.12.T
	desc = FEE_Netherlands_Events.12.D
	picture = LAND_MILITARY_eventPicture

	fire_only_once = yes

	trigger = {
		tag = NED
		if = {
			limit = { exists = GBR }
			GBR = {
				owns = 236
				war_with = ROOT
			}
		}
		else = {
			ENG = {
				owns = 236
				war_with = ROOT
			}
		}
		num_of_heavy_ship = 6
		236 = { heavy_ships_in_province = 6 }
	}

	option = {
		name = FEE_Netherlands_Events.12.OPT1
		ai_chance = {
			factor = 50
		}

		country_event = {
			id = FEE_Netherlands_Events.14
			days = 3
		}
		if = {
			limit = { exists = GBR }
			GBR = {
				country_event = {
					id = FEE_Netherlands_Events.13
					days = 3
				}
			}
		}
		else = {
			ENG = {
				country_event = {
					id = FEE_Netherlands_Events.13
					days = 3
				}
			}
		}
	}
}

#Raid on the Medway (England)
country_event = {
	id = FEE_Netherlands_Events.13
	title = FEE_Netherlands_Events.13.T
	desc = FEE_Netherlands_Events.13.D
	picture = SIEGE_eventPicture

	is_triggered_only = yes

	option = {
		name = FEE_Netherlands_Events.13.OPT1
		ai_chance = {
			factor = 50
		}

		add_stability = -1
		add_war_exhaustion = 3
		add_prestige = -15
		add_country_modifier = {
			name = fee_ned_raid_medway
			duration = 3650
		}
		283 = {
			kill_units = {
				who = owner
				type = heavy_ship
				amount = 12
			}
		}
	}
}

#Raid on the Medway (NED)
country_event = {
	id = FEE_Netherlands_Events.14
	title = FEE_Netherlands_Events.14.T
	desc = FEE_Netherlands_Events.14.D
	picture = SIEGE_eventPicture

	is_triggered_only = yes

	option = {
		name = FEE_Netherlands_Events.14.OPT1
		ai_chance = {
			factor = 50
		}

		add_stability_or_adm_power = yes
		add_war_exhaustion = -2
		add_prestige = 10
		if = {
			limit = {
				capital_scope = { has_port = yes }
			}
			capital_scope = {
				heavy_ship = ROOT
				heavy_ship = ROOT
			}
		}
		else = {
			random_owned_province = {
				limit = { has_port = yes }
				heavy_ship = ROOT
				heavy_ship = ROOT
			}
		}
	}
}

#Dutch Settlers at the Cape
country_event = {
	id = FEE_Netherlands_Events.15
	title = FEE_Netherlands_Events.15.T
	desc = FEE_Netherlands_Events.15.D
	picture = EXPLORERS_eventPicture

	fire_only_once = yes
	trigger = {
		tag = NED
		owns = 1177
		has_idea = quest_for_the_new_world
		has_idea = colonial_ventures
		has_idea = overseas_exploration
	}

	mean_time_to_happen = {
		months = 200
	}

	option = {
		name = FEE_Netherlands_Events.15.OPT1
		ai_chance = {
			factor = 33
		}

		add_years_of_income = -0.25
		1177 = {
			add_base_production = 3
			add_base_manpower = 4
			if = {
				limit = {
					owner = {
						NOT = { mil_tech = 14 }
					}
				}
				if = {
					limit = {
						NOT = { has_building = fort_18th }
						NOT = { has_building = fort_17th }
						NOT = { has_building = fort_16th }
						NOT = { has_building = fort_15th }
					}
					add_building_construction = {
						building = fort_15th
						speed = 0.25
						cost = 0
					}
				}
			}
			else_if = {
				limit = {
					owner = {
						mil_tech = 14
						NOT = { mil_tech = 19 }
					}
				}
				if = {
					limit = { has_building = fort_15th }
					remove_building = fort_15th
					add_building_construction = {
						building = fort_16th
						speed = 0.25
						cost = 0
					}
				}
				else_if = {
					limit = {
						NOT = { has_building = fort_18th }
						NOT = { has_building = fort_17th }
						NOT = { has_building = fort_16th }
						NOT = { has_building = fort_15th }
					}
					add_building_construction = {
						building = fort_16th
						speed = 0.25
						cost = 0
					}
				}
			}
			else_if = {
				limit = {
					owner = {
						mil_tech = 19
						NOT = { mil_tech = 24 }
					}
				}
				if = {
					limit = { has_building = fort_15th }
					remove_building = fort_15th
					add_building_construction = {
						building = fort_17th
						speed = 0.25
						cost = 0
					}
				}
				else_if = {
					limit = { has_building = fort_16th }
					remove_building = fort_16th
					add_building_construction = {
						building = fort_17th
						speed = 0.25
						cost = 0
					}
				}
				else_if = {
					limit = {
						NOT = { has_building = fort_18th }
						NOT = { has_building = fort_17th }
						NOT = { has_building = fort_16th }
						NOT = { has_building = fort_15th }
					}
					add_building_construction = {
						building = fort_17th
						speed = 0.25
						cost = 0
					}
				}
			}
			else_if = {
				limit = {
					owner = {
						mil_tech = 24
					}
				}
				if = {
					limit = { has_building = fort_15th }
					remove_building = fort_15th
					add_building_construction = {
						building = fort_18th
						speed = 0.25
						cost = 0
					}
				}
				else_if = {
					limit = { has_building = fort_16th }
					remove_building = fort_16th
					add_building_construction = {
						building = fort_18th
						speed = 0.25
						cost = 0
					}
				}
				else_if = {
					limit = { has_building = fort_17th }
					remove_building = fort_17th
					add_building_construction = {
						building = fort_18th
						speed = 0.25
						cost = 0
					}
				}
				else_if = {
					limit = {
						NOT = { has_building = fort_18th }
						NOT = { has_building = fort_17th }
						NOT = { has_building = fort_16th }
						NOT = { has_building = fort_15th }
					}
					add_building_construction = {
						building = fort_17th
						speed = 0.25
						cost = 0
					}
				}
			}
			if = {
				limit = {
					NOT = { has_building = workshop }
				}
				add_building = workshop
			}
			change_culture = ROOT
			change_religion = ROOT
		}
	}

	option = {
		name = FEE_Netherlands_Events.15.OPT2
		ai_chance = {
			factor = 33
		}

		add_years_of_income = -0.5
		trade_company_south_africa = {
			limit = { is_empty = yes }
			add_province_modifier = {
				name = fee_ned_boer_migration
				duration = 10950
			}
			change_culture = ROOT
			change_religion = ROOT
		}
	}

	option = {
		name = FEE_Netherlands_Events.15.OPT3
		ai_chance = {
			factor = 33
		}

		if = {
			limit = {
				has_estate = estate_burghers
			}
			add_estate_burghers_loyalty_effect = yes
		}
		else = { add_mercantilism = 2 }
	}
}

#The Grand Alliance
country_event = {
	id = FEE_Netherlands_Events.16
	title = FEE_Netherlands_Events.16.T
	desc = FEE_Netherlands_Events.16.D
	picture = DIPLOMACY_eventPicture

	fire_only_once = yes

	trigger = {
		tag = NED
		is_year = 1600
		OR = {
			NOT = { alliance_with = FRA }
			marriage_with = FRA
		}
		exists = FRA
	}

	mean_time_to_happen = {
		months = 200
	}

	option = {
		name = FEE_Netherlands_Events.16.OPT1
		ai_chance = {
			factor = 50
		}

		FRA = {
			every_rival_country = {
				remove_rival = ROOT
				add_casus_belli = {
					type = cb_liberation
					target = FRA
				}
				add_opinion = {
					who = ROOT
					modifier = fee_ned_leader_grand_alliance_opinion
				}
			}
		}
		add_country_modifier = {
			name = fee_ned_leader_grand_alliance
			duration = -1
		}
		add_casus_belli = {
			type = cb_liberation
			target = FRA
		}
	}

	option = {
		name = FEE_Netherlands_Events.16.OPT2
		ai_chance = {
			factor = 50
		}

		FRA = {
			every_rival_country = {
				add_casus_belli = {
					type = cb_liberation
					target = FRA
				}
				add_opinion = {
					who = ROOT
					modifier = fee_ned_stand_against_france_opinion
				}
			}
		}
		add_country_modifier = {
			name = fee_ned_stand_against_france
			duration = -1
		}
		add_casus_belli = {
			type = cb_liberation
			target = FRA
		}
	}
}

#Rembrandt
country_event = {
	id = FEE_Netherlands_Events.17
	title = FEE_Netherlands_Events.17.T
	desc = FEE_Netherlands_Events.17.D
	picture = PAINTER_ARTIST_eventPicture

	fire_only_once = yes
	trigger = {
		owns = 4383
		is_year = 1600
		NOT = { is_year = 1640 }
		stability = 1
	}

	mean_time_to_happen = {
		months = 12
	}

	option = {
		name = FEE_Netherlands_Events.17.OPT1
		ai_chance = {
			factor = 50
		}

		define_advisor = {
			type = artist
			name = "Rembrandt"
			skill = 3
			culture = dutch
			religion = root
			cost_multiplier = 0.50
		}
		add_prestige = 20
	}
}

#Huguenot Refugees
country_event = {
	id = FEE_Netherlands_Events.18
	title = FEE_Netherlands_Events.18.T
	desc = FEE_Netherlands_Events.18.D
	picture = RELIGIOUS_WARS_eventPicture

	fire_only_once = yes

	trigger = {
		tag = NED
		is_year = 1610
		NOT = { religion = catholic }
		FRA = {
			religion = catholic
		}
	}

	mean_time_to_happen = {
		months = 60
	}

	option = {
		name = FEE_Netherlands_Events.18.OPT1
		ai_chance = {
			factor = 50
		}

		add_country_modifier = {
			name = fee_ned_huguenot_influx
			duration = 7300
		}
		random_owned_province = {
			limit = {
				NOT = { religion = catholic }
			}
			add_base_tax = 2
			add_base_production = 2
		}
		random_owned_province = {
			limit = {
				NOT = { religion = catholic }
			}
			add_base_tax = 2
			add_base_production = 2
		}
		FRA = {
			add_opinion = {
				who = ROOT
				modifier = fee_ned_huguenot_influx_opinion
			}
		}
	}

	option = {
		name = FEE_Netherlands_Events.18.OPT2
		ai_chance = {
			factor = 50
		}

		add_country_modifier = {
			name = fee_ned_secured_borders
			duration = 7300
		}
		add_stability_or_adm_power = yes
		FRA = {
			add_opinion = {
				who = ROOT
				modifier = fee_ned_secured_borders_opinion
			}
		}
	}
}

#Dike Piercing
country_event = {
	id = FEE_Netherlands_Events.19
	title = FEE_Netherlands_Events.19.T
	desc = FEE_Netherlands_Events.19.D
	picture = WOUNDED_SOLDIERS_eventPicture

	trigger = {
		tag = NED
		any_country = { offensive_war_with = ROOT }
		NOT = { war_score = -50 }
		num_of_owned_provinces_with = {
			value = 2
			region = low_countries_region
			NOT = { controlled_by = ROOT }
		}
	}
	mean_time_to_happen = {
		months = 1
	}

	option = {
		name = FEE_Netherlands_Events.19.OPT1
		ai_chance = {
			factor = 50
		}

		add_war_exhaustion = 3
		low_countries_region = {
			limit = { owned_by = ROOT }
			add_province_modifier = {
				name = fee_ned_dikes_pierced
				duration = 3650
			}
			add_devastation = 10
		}
	}

	option = {
		name = FEE_Netherlands_Events.19.OPT2
		ai_chance = {
			factor = 50
		}

		add_stability_or_adm_power = yes
		add_country_modifier = {
			name = fee_ned_fight_homeland
			duration = 3650
		}
	}
}

#Lack of Investment in Manufacturing
country_event = {
	id = FEE_Netherlands_Events.20
	title = FEE_Netherlands_Events.20.T
	desc = FEE_Netherlands_Events.20.D
	picture = DIPLOMACY_eventPicture

	fire_only_once = yes

	trigger = {
		tag = NED
		is_year = 1700
		calc_true_if = {
			amount = 1
			all_country = { monthly_income = ROOT }
		}
		owns = 97
	}

	mean_time_to_happen = {
		months = 60
	}

	option = {
		name = FEE_Netherlands_Events.20.OPT1
		ai_chance = {
			factor = 33
		}

		add_years_of_income = -1
		add_country_modifier = {
			name = fee_ned_investment_industry
			duration = 7300
		}
	}

	option = {
		name = FEE_Netherlands_Events.20.OPT2
		ai_chance = {
			factor = 33
		}

		add_years_of_income = -0.5
		97 = {
			add_permanent_province_modifier = {
				name = fee_ned_financial_hub
				duration = -1 
			}
		}

		add_country_modifier = {
			name = fee_ned_banking_focus
			duration = -1
		}
	}

	option = {
		name = FEE_Netherlands_Events.20.OPT2
		ai_chance = {
			factor = 33
		}

		add_stability_or_adm_power = yes
		add_country_modifier = {
			name = fee_ned_trade_compacency
			duration = 7300
		}
	}
}